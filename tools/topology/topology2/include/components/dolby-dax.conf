<include/controls/mixer.conf>
<include/controls/enum.conf>

Class.Widget."dolby-dax" {
	DefineAttribute."index" {
		type "integer"
	}

	DefineAttribute."instance" {
		type "integer"
	}

	<include/components/widget-common.conf>

	attributes {
		!constructor [
			"index"
			"instance"
		]
		!mandatory [
			"num_input_pins"
			"num_output_pins"
			"num_input_audio_formats"
			"num_output_audio_formats"
		]

		!immutable [
			"uuid"
			"type"
		]
		!deprecated [
			"preload_count"
		]
		unique	"instance"
	}

	Object.Control {
		# Enable/Disable DAX module
		mixer."1" {
			Object.Base.channel.1 {
				name	"fc"
			}
			Object.Base.ops.1 {
				name	"ctl"
				info 	"volsw"
				## get = 259 binds the mixer control to switch get/put handlers
				get 	259
				put 	259
			}

			#max 1 indicates switch type control
			max 1
		}
		# Enable/Disable DAX content processing feature
		mixer."2" {
			Object.Base.channel.1 {
				name	"fc"
			}
			Object.Base.ops.1 {
				name	"ctl"
				info 	"volsw"
				## get = 259 binds the mixer control to switch get/put handlers
				get 	259
				put 	259
			}

			#max 1 indicates switch type control
			max 1
		}
		# Enable/Disable DAX crosstalk cancellation feature
		mixer."3" {
			Object.Base.channel.1 {
				name	"fc"
			}
			Object.Base.ops.1 {
				name	"ctl"
				info 	"volsw"
				## get = 259 binds the mixer control to switch get/put handlers
				get 	259
				put 	259
			}

			#max 1 indicates switch type control
			max 1
		}
		# Set volume to DAX module, range from 0 to 25
		mixer."4" {
			Object.Base.channel.1 {
				name	"fc"
			}
			Object.Base.ops.1 {
				name	"ctl"
				info 	"volsw"
				get 	256
				put 	256
			}
			max 25

			Object.Base.tlv.1 {
				name	"vtlv_m50s200"
				Object.Base.scale.1 {
					name	m0s131072
					min	-5000
					step	200
				}
			}
		}
		# Set profile to DAX module
		enum."1" {
			Object.Base {
				channel.1 {
					name	"fc"
				}
				text.0 {
					name "profiles"
					!values [
						"0" # dynamic
						"1" # movie
						"2" # music
						"3" # voice
					]
				}
				ops.1 {
					name	"ctl"
					info	"enum"
					#257 binds the mixer control to enum get/put handlers
					get	257
					put	257
				}
			}
		}
		# Set output device to DAX module
		enum."2" {
			Object.Base {
				channel.1 {
					name	"fc"
				}
				text.0 {
					name "devices"
					!values [
						"0" # speaker
						"1" # 3.5mm wired headphone
					]
				}
				ops.1 {
					name	"ctl"
					info	"enum"
					#257 binds the mixer control to enum get/put handlers
					get	257
					put	257
				}
			}
		}
		# Set binary effect parameters to DAX module
		bytes."1" {}
	}

	uuid 			"8b:6c:f6:40:a5:5a:45:43:89:19:53:ec:43:1a:aa:98"
	type			"effect"
	no_pm			"true"
	cpc			675000
	num_input_pins		1
	num_output_pins		1
}
