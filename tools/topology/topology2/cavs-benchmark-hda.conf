<include/components/dcblock.conf>
<include/components/rtnr.conf>
<include/components/igo_nr.conf>
<include/components/src_lite.conf>

Define {
	ANALOG_PLAYBACK_PCM		'Analog Playback'
	ANALOG_CAPTURE_PCM		'Analog Capture'
	HDA_ANALOG_DAI_NAME		'Analog'
}

Object.Dai.HDA [
	{
		name $HDA_ANALOG_DAI_NAME
		dai_index 0
		id 4
		default_hw_conf_id 4
		Object.Base.hw_config.1 {
			name	"HDA0"
		}
		direction duplex
	}
]

Object.PCM.pcm [
	{
		id 0
		name 'HDA Analog'
		Object.Base.fe_dai.1 {
			name "HDA Analog"
		}
		Object.PCM.pcm_caps.1 {
			direction	"playback"
			name $ANALOG_PLAYBACK_PCM
			formats 'S32_LE,S24_LE,S16_LE'
			rate_min 8000
			rate_max 192000
		}
		Object.PCM.pcm_caps.2 {
			direction	"capture"
			name $ANALOG_CAPTURE_PCM
			formats 'S32_LE,S24_LE,S16_LE'
			rate_min 8000
			rate_max 192000
		}
		direction duplex
	}
]

IncludeByKey.BENCH_CONFIG {
	"benchmark" {
		Object.Pipeline {
			mixout-dai-copier-playback [
				{
					index 3

					Object.Widget.dai-copier.1 {
						node_type $HDA_LINK_OUTPUT_CLASS
						stream_name $HDA_ANALOG_DAI_NAME
						dai_type "HDA"
						copier_type "HDA"
					}
				}
			]

			mixout-aria-gain-mixin-playback [
				{
					index 2

					Object.Widget.gain.1 {
						Object.Control.mixer.1 {
							name 'Post Mixer $ANALOG_PLAYBACK_PCM Volume'
						}
					}
					Object.Widget.aria.1 {
						num_input_audio_formats 1
						num_output_audio_formats 1
						# 32-bit 48KHz 2ch
						Object.Base.input_audio_format [
							{
								in_bit_depth		32
								in_valid_bit_depth	32
							}
						]
						Object.Base.output_audio_format [
							{
								out_bit_depth		32
								out_valid_bit_depth	32
							}
						]
						Object.Control.bytes."1" {
							name "SSP2 Aria Control"
						}
					}
				}
			]

			host-copier-gain-mixin-playback [
				{
					index 1

					Object.Widget.host-copier.1 {
						stream_name $ANALOG_PLAYBACK_PCM
						pcm_id 0
					}

					Object.Widget.gain.1 {
						Object.Control.mixer.1 {
							name 'Pre Mixer $ANALOG_PLAYBACK_PCM Volume'
						}
					}
				}
			]

			host-gateway-capture [
				{
					index	3
					Object.Widget.host-copier.1 {
						stream_name $ANALOG_CAPTURE_PCM
						pcm_id 0
					}
				}
			]

			highpass-capture-be [
				{
					index		4
					direction	capture

					Object.Widget.dai-copier."1" {
						dai_type	"HDA"
						type		"dai_out"
						copier_type	"HDA"
						stream_name	$HDA_ANALOG_DAI_NAME
						node_type	$HDA_LINK_INPUT_CLASS
						num_output_pins 1
						num_input_audio_formats 1
						num_output_audio_formats 1
						Object.Base.input_audio_format [
							{
								in_bit_depth		32
								in_valid_bit_depth	32
							}
						]
						Object.Base.output_audio_format [
							{
								out_bit_depth		32
								out_valid_bit_depth	32
							}
						]
					}
					Object.Widget.eqiir.1 {
						Object.Control.bytes."1" {
							name '$ANALOG_CAPTURE_PCM IIR Eq'
						}
					}
				}
			]
		}

		# top-level pipeline connections
		Object.Base.route [
			{
				sink 'dai-copier.HDA.$HDA_ANALOG_DAI_NAME.playback'
				source 'mixout.3.1'
			}
			{
				source 'mixin.2.1'
				sink 'mixout.3.1'
			}
			{
				source 'mixin.1.1'
				sink 'mixout.2.1'
			}
			{
				source 'dai-copier.HDA.$HDA_ANALOG_DAI_NAME.capture'
				sink 'eqiir.4.1'
			}
			{
				source 'eqiir.4.1'
				sink 'host-copier.0.capture'
			}
			{
				source 'host-copier.0.playback'
				sink 'gain.1.1'
			}
		]
	}

	#
	# Aria component
	#

	"aria32" {
		<include/bench/aria_s32.conf>
	}

	#
	# DCblock component
	#

	"dcblock16" {
		<include/bench/dcblock_s16.conf>
	}

	"dcblock24" {
		<include/bench/dcblock_s24.conf>
	}

	"dcblock32" {
		<include/bench/dcblock_s32.conf>
	}

	#
	# DRC component
	#

	"drc16" {
		<include/bench/drc_s16.conf>
	}

	"drc24" {
		<include/bench/drc_s24.conf>
	}

	"drc32" {
		<include/bench/drc_s32.conf>
	}

	# Multiband-DRC component
	# Note: Due to alsatplg regexp match feature in IncludeByKey call it e.g. drc_multiband16
	# to not match multiband_drc16 with drc16 and get error "No variable defined
	# for BENCH_DRC_PARAMS" when building these.

	"drc_multiband16" {
		<include/bench/multiband_drc_s16.conf>
	}

	"drc_multiband24" {
		<include/bench/multiband_drc_s24.conf>
	}

	"drc_multiband32" {
		<include/bench/multiband_drc_s32.conf>
	}

	#
	# EQFIR component
	#

	"eqfir16" {
		<include/bench/eqfir_s16.conf>
	}

	"eqfir24" {
		<include/bench/eqfir_s24.conf>
	}

	"eqfir32" {
		<include/bench/eqfir_s32.conf>
	}

	#
	# EQIIR component
	#

	"eqiir16" {
		<include/bench/eqiir_s16.conf>
	}

	"eqiir24" {
		<include/bench/eqiir_s24.conf>
	}

	"eqiir32" {
		<include/bench/eqiir_s32.conf>
	}

	#
	# Gain component
	#

	"gain16" {
		<include/bench/gain_s16.conf>
	}

	"gain24" {
		<include/bench/gain_s24.conf>
	}

	"gain32" {
		<include/bench/gain_s32.conf>
	}

	#
	# IGO NR component
	#

	"igo_nr16" {
		<include/bench/igo_nr_s16.conf>
	}

	"igo_nr24" {
		<include/bench/igo_nr_s24.conf>
	}

	"igo_nr32" {
		<include/bench/igo_nr_s32.conf>
	}

	#
	# RTNR component
	#

	"rtnr16" {
		<include/bench/rtnr_s16.conf>
	}

	"rtnr24" {
		<include/bench/rtnr_s24.conf>
	}

	"rtnr32" {
		<include/bench/rtnr_s32.conf>
	}

	#
	# SRC component
	#

	"src16" {
		<include/bench/src_s16.conf>
	}

	"src24" {
		<include/bench/src_s24.conf>
	}

	"src32" {
		<include/bench/src_s32.conf>
	}

	#
	# src_lite component
	#

	"src_lite16" {
		<include/bench/src_lite_s16.conf>
	}

	"src_lite24" {
		<include/bench/src_lite_s24.conf>
	}

	"src_lite32" {
		<include/bench/src_lite_s32.conf>
	}
}
